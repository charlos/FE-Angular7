<div *ngIf="currentLegajo$ | async as data" class="legajo-container">
  <h1 *ngIf="data.ID">
    Modificar legajo <span>Nro.{{data.Legajo}}</span>
  </h1>
  <h1 *ngIf="!data.ID">
    Nuevo legajo
  </h1>

  <mat-divider></mat-divider>

  <div mat-dialog-content class="content">

    <mat-form-field class="standard-input"><input matInput [(ngModel)]="data.legajo" placeholder="NÃºmero de Legajo"
        cdkFocusInitial></mat-form-field>
    <mat-form-field class="standard-input"><input matInput [(ngModel)]="data.CreatedAt" placeholder="Creado">
    </mat-form-field>
    <mat-form-field class="standard-input"><input matInput [(ngModel)]="data.nombre" placeholder="Nombre">
    </mat-form-field>
    <mat-form-field class="standard-input"><input matInput [(ngModel)]="data.apellido" placeholder="Apellido">
    </mat-form-field>
    <mat-form-field class="standard-input"><input matInput [(ngModel)]="data.cbu" placeholder="CBU"></mat-form-field>
    <app-selector-default type="pais" [value]="data.pais"></app-selector-default>

    <mat-divider></mat-divider>

    <h2>Hijos</h2>
    <div class="children-container">
      <table style="width:100%">
          <tr *ngFor="let hijo of data.hijos">
            <div *ngIf="(hijo.DeletedAt == null)">
              <button mat-icon-button class="actions-icon" color="warn" (click)="onClickDeleteChild(hijo)">
                <mat-icon>delete_forever</mat-icon>
              </button>
              <mat-form-field class="children-input"><input matInput [(ngModel)]="hijo.nombre" placeholder="Nombre"></mat-form-field>
              <mat-form-field class="children-input"><input matInput [(ngModel)]="hijo.apellido" placeholder="Apellido"></mat-form-field>
              <mat-form-field class="children-input"><input matInput [(ngModel)]="hijo.cuil" placeholder="Cuil"></mat-form-field>
              <mat-form-field class="children-input"><input matInput [(ngModel)]="hijo.descripcion" placeholder="Descripcion"></mat-form-field>
              <mat-form-field class="children-input"><input matInput [(ngModel)]="hijo.obrasocialid" placeholder="Obra Social"></mat-form-field>
            </div>
          </tr>
      </table>
      <button mat-mini-fab color="accent" class="add-button" (click)="onClickNewChild(data.hijos)">
        <mat-icon aria-label="Agregar Hijo">add</mat-icon>
      </button>
    </div>

    <mat-divider></mat-divider>

  </div>
  <div mat-dialog-actions class="actions">
    <button mat-raised-button (click)="onClickAbort()">Cerrar</button>
    <button mat-raised-button color="primary" (click)="onClickSave(data)">Guardar</button>
  </div>
</div>